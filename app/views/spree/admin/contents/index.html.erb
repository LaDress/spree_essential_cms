<% content_for :page_title do %>
  <%= t(:listing_contents) %>
<% end %>

<% content_for :page_actions do %>
  <li id="new_content_link">
    <%= button_link_to t('.new_content'), new_object_url, :icon => 'icon-plus' %>
  </li>
<% end %>

<%= render :partial => 'spree/admin/shared/page_tabs', :locals => {:current => 'Contents'} %>

<table class="index sortable" data-sortable-link="<%= update_positions_admin_page_contents_url(@page) -%>">
  <thead>
  <tr>
      <th><%= sort_link @search, :title, t("content.title") %></th>
      <th><%= sort_link @search, :context, t("content.context") %></th>
      <th class="actions"><%= t("action") %></th>
  </tr>
  </thead>
  <tbody>
    <%- @collection.each do |content|%>
    <tr id="<%= spree_dom_id content %>" class="<%= cycle('odd', 'even')%>">
      <td><span class="handle">&nbsp;</span>&nbsp; <%= link_to content.title, object_url(content) %></td>
      <td><%= content.context %>
      <td class="actions">
        <%= link_to_edit content, no_text: true %> &nbsp;
        <%= link_to_delete content, no_text: true %>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @collection %>

<% content_for :sidebar do %>
  <h5><%= t(:search) %></h5>
  <div class="box">
    <%= search_form_for [:admin, @page, @search] do |f| %>
      <div class="field">
        <%= f.label :title_cont, t('content.title') %>
        <%= f.text_field :title_cont, :size => 25 %>
      </div>
      <div class="field">
        <%= f.label :context_cont, t('content.context') %>
        <%= f.text_field :context_cont, :size => 25 %>
      </div>
      <div class="field"><%= button t("search"), 'icon-search' %></div>
    <% end %>
  </div>
<% end %>
